<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="Access-Control-Allow-Origin" content="*">
    <title> Seq Scrub</title>
    <link rel="stylesheet" type="text/css" href="styles/index.css" media="all" />


</head>
<header>
Seq Scrub<br><br>
</header>

<body>
<div class="loader" style="display:none" >
    <!-- <img src=scrub3.gif> -->
    <img src=scrubcrop.gif>


    <div class="loader-text"  >
        Cleaning sequences!
    </div>
    <!-- <img src=loading2.gif> -->

    <!-- <img src=scrub_big.gif> -->

</div>


    Upload a FASTA file to edit all headers into the ID|Species_name format. <br><br>

<!--     The green box shows the correctly formatted headers<br>

    The blue box shows any sequences which contained illegal characters<br>

    The purple box shows any sequences which couldn't map to the ID|Species_name format<br><br> -->



    <form id='data'>
    	<input type="file" class="fileinput" id="file" name="file" />
        <label for="file"> Choose a file </label>
        <input type="text" id="fileToSave"  value="   " /> <br><br>

        <br><br>
        Remove sequences containing these characters:
        <input type="text" id="invalidChars" value="B J O U X Z" /> <br><br>
        <label for="file"> Change spaces to underscores in species name </label> 
        <input type="checkbox" checked id="addUnderscore" value=checked name="addUnderscore"><br><br>



        <input type="submit" class="button" value = "Submit"> <br><br>
    </form>



    <section class = container>
    <label for = "cleanedSeqs" class="seqLabel1">Cleaned sequences: </label>
    <label for = "badCharacters" class="seqLabel2">Sequences with illegal characters: </label>
    <label for = "obsoleteSeqs" class="seqLabel3">Sequences that are obsolete: </label>
    <label for = "badIds" class="seqLabel4">Sequences that couldn't be mapped to a species: </label>
    </section>
    <section class = container>
  
        <textarea readonly id = 'cleanedSeqs' spellcheck="false" autocomplete="off"></textarea>

        <textarea readonly id = 'badCharacters' spellcheck="false" autocomplete="off"></textarea>

        <textarea readonly id = 'obsoleteSeqs' spellcheck="false" autocomplete="off"></textarea>

        <textarea readonly id = 'badIds' spellcheck="false" autocomplete="off"></textarea>
    </section>
    <br>

    <form id="save">

        <input type="button" class = "button" id= 'saveButton' value="Save cleaned sequences" onclick="downloadFile(fileToSave.value, cleanedSeqs.value)"> <br><br>
<!--         <input type="button" class = "button" id= 'illegalButton' value="Save illegal sequences" onclick="downloadFile(fileToSave.value, badCharacters.value)">
        <input type="button" class = "button" id= 'obsoleteButton' value="Save obsolete sequences" onclick="downloadFile(fileToSave.value, obsoleteSeqs.value)">
        <input type="button" class = "button" id= 'unmappableButton' value="Save unmappable sequences" onclick="downloadFile(fileToSave.value, badIds.value)"> <br> <br> -->
        <input type="button" class = "button" id= 'saveButton' value="Save summary" onclick="downloadSummary(fileToSave.value)">


    </form>

    <!-- Jquery and Jquery UI -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.12.3/jquery.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>

    <!-- SeqScrub -->
    <script src="./js/seqscrub.js"></script>

    <!--Download.js -->
    <script src="http://danml.com/js/download.js"></script>


</body>
</html>
