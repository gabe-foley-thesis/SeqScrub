<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title> SeqScrub</title>
    <link rel="stylesheet" type="text/css" href="styles/index.css" media="all" />
    <link rel="stylesheet" type="text/css" href="styles/stylesheet.css" media="all" />
    <link rel="stylesheet" type="text/css" href="styles/normalize.css" media="all" />
    <link rel="stylesheet" type="text/css" href="styles/selectize.default.css" media="all" />
    <link rel="stylesheet" type="text/css" href="styles/bootstrap.min.css">
    <link rel="icon" type="image/png" href="img/favicon.ico">
</head>
<body>
<header>
    SeqScrub
</header>

    <div class="loader" style = "display:none">
        <img src=img/scrubcrop.gif alt="Scrubbing image">
        <div class="loader-text">
        Cleaning sequences!</div>
</div>



<div class="container-fluid">
    <div class="row">
        <div class="col-lg-6">
            <form id='data'>
                <div class="form-group">

                        Upload a FASTA file to edit all headers into the specified cleaned format. <br><br>

                        <input required type="file" class="fileinput" id="file" name="file" />
                        <label for="file" class="btn btn-primary"> Choose a file </label>

                        <input type="text" id="fileToSave"  value="   " /> <br>

                        <input type="file" class="fileinput" id="tree" name="tree" />
                        <label for="tree" class="btn btn-primary"> Choose a tree (optional) </label>

                        <input type="text" id="treeToSave"  value="   " /> <br><br><br>
                        <input type="submit" class="submitButton" value = "Submit"> <br><br>
            </div>
        </div>
        <div class="col-lg-6">

            <label for="header-format"> Select header output format: (Click field to add and drag items to rearrange) </label>

            <select name="header-format" id="header-format" multiple="multiple">
                <option selected value="species">Species name</option>
                <option value="family">Family</option>
                <option value="order">Order</option>
                <option value="class">Class</option>
                <option value="division">Division</option>
                <option value="phylum">Phylum</option>
                <option value="kingdom">Kingdom</option>

            </select>

            <label for="invalidChars" > Remove sequences containing: </label>
            <input type="text" id="invalidChars" value="B J O U X Z" /> <br>

            <input type="checkbox" checked id="addUnderscore" value=checked name="addUnderscore" class=dataCheck>

            <label for="addUnderscore"> Change spaces to underscores in species name </label> <br>

            <input type="checkbox" checked id="getFirstID" value=checked name="getFirstID" class=dataCheck>

            <label for="getFirstID"> Retain only the first ID from headers with multiple IDs </label> <br>

            <input type="checkbox" checked id="checkObsolete" value=checked name="checkObsolete" class=dataCheck>

            <label for="checkObsolete"> Remove obsolete records </label> <br>

            <input type="checkbox" checked id="removeUnclean" value=checked name="removeUnclean" class=dataCheck>

            <label for="removeUnclean"> Remove uncleaned records</label> <br>

            <!-- <input type="checkbox" checked id="replaceHeadersDBCheck" name="replaceHeadersDBCheck" class = dataCheck> -->

            <!-- <label for="replaceHeadersDB" > Keep original headers - just replace characters: </label> -->
            
            <!-- <input type="text" id="replaceHeadersDB" value=": , ;"/> <br> -->

            <input type="checkbox" id="replaceCharsCheck" name="replaceCharsCheck" value=unchecked>

            <label for="replaceChars" > Don't check databases - just replace characters: </label>
            
            <input type="text" id="replaceChars" value=": , ;" /> <br><br>
        </div>
    </form>
    </div>
</div>



<section class = output-container>
    <label for = "cleanedSeqs" class="seqLabel1">Cleaned sequences: </label>
    <label for = "badCharacters" class="seqLabel2">Sequences with illegal characters: </label>
    <label for = "obsoleteSeqs" class="seqLabel3">Obsolete sequences: </label>
    <label for = "badIds" class="seqLabel4">Unmappable sequences: </label>
</section>
<section class = output-container>

    <textarea readonly id = 'cleanedSeqs' spellcheck="false" autocomplete="off"></textarea>

    <textarea readonly id = 'badCharacters' spellcheck="false" autocomplete="off"></textarea>

    <textarea readonly id = 'obsoleteSeqs' spellcheck="false" autocomplete="off"></textarea>

    <textarea readonly id = 'badIds' spellcheck="false" autocomplete="off"></textarea>
</section>
<br>
<div class="container-fluid">
    <div class="row">
        <div class="col-lg-6">
            <form id="save">
                <div class="form-group">



                    Which output fields should be saved? <br><br>

                    <input type="checkbox" class="custom-checkbox"  id="selectAll" onchange="checkAll(this)" value="" name="selectAll">
                    <label for="selectAll" id=selectAllLabel>Select all output</label> <br>

                    <input type="checkbox" class="downloadCheck" id="cleanCheck" value="cleanedSeqs" name="cleanCheck" disabled>
                    <label for="cleanCheck">Cleaned sequences</label> <br>
                    
                    <input type="checkbox" class="downloadCheck" id="illegalCheck" value="badCharacters" name="illegalCheck" disabled>
                    <label for="illegalCheck"> Sequences with illegal characters </label> <br>
                    
                    <input type="checkbox" class="downloadCheck" id="obsoleteCheck" value="obsoleteSeqs" name="obsoleteCheck" disabled >
                    <label for="obsoleteCheck"> Sequences that are obsolete </label> <br>
                    
                    <input type="checkbox" class="downloadCheck" id="unmappableCheck" value="badIds" name="unmappableCheck" disabled>
                    <label for="unmappableCheck"> Sequences that couldn't be cleaned </label>    <br>
                    
                    <input type="checkbox" class="downloadCheck" id="treeCheck" value="treeDL" name="treeCheck" disabled>
                    <label for="treeCheck"> Cleaned phylogenetic tree </label>    <br>
                    
                    <input type="checkbox" class="downloadCheck" id="summaryCheck" value="summaryDL" name="summaryCheck" disabled>
                    <label for="summaryCheck"> Summary of changes made</label>    <br>

   

                    <br><br>

                    <input type="submit" class="submitButton" value = "Save output"> <br><br>


             <!--        <input type="button" class = "button" id= 'saveButton' value="Save output" onclick="downloadFile(fileToSave.value, cleanedSeqs.value)"> <br><br>
   -->
<!--                     <input type="button" class = "button" id= 'saveButton' value="Save summary" onclick="downloadSummary(fileToSave.value)"> -->
                </div>
            </form>
        </div>

        <div id=error-div class="col-lg-6">
        </div>



            
<!--         <div class="col-lg-6">
            <ul class="nav nav-tabs" id="myTab">
                <li><a data-toggle="tab" href="#error-div">Errors        </a></li><br>
                <li><a data-toggle="tab" href="#treeOutput">Phylogenetic tree</a></li>
            </ul>
            <div class="tab-content">
                <div id="error-div"  class="tab-pane">
                    <h3>Errors</h3>
                    <p>Any errors or warnings will appear here.</p>
                </div>
                <div id="treeOutput" class="tab-pane ">
                    <h3>Cleaned tree</h3>
                    <p>If you select a phylogenetic tree to be cleaned the output will appear here.</p>
                </div>
            
            </div>
        </div> -->
    </div>
</div>
    <!-- Jquery and Jquery UI -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.12.3/jquery.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>

    <!-- Tether -->
    <script src="https://npmcdn.com/tether@1.2.4/dist/js/tether.min.js"></script>


    <!-- Bootstrap -->
    <script src="./js/bootstrap.min.js"></script>

    <!-- JSZip -->
    <script src="./js/jszip.min.js"></script>

    <!-- Selectize.js -->
    <script src="./js/selectize.min.js"></script>

    <!-- FileSaver -->
    <script src="./js/filesaver.min.js"></script>

    <!-- SeqScrub -->
    <script src="./js/seqscrub.js"></script>

    <!--Download.js -->
    <script src="http://danml.com/js/download.js"></script>

</body>
</html>
