<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <!-- <meta http-equiv="Access-Control-Allow-Origin" content="*"> -->
    <meta http-equiv="Access-Control-Allow-Origin" content="http://eutils.ncbi.nlm.nih.gov">
    <meta http-equiv="Access-Control-Allow-Origin" content="http://uniprot.org">


    <title> SeqScrub</title>
    <link rel="stylesheet" type="text/css" href="styles/index.css" media="all" />
    <link rel="stylesheet" type="text/css" href="styles/stylesheet.css" media="all" />
    <link rel="stylesheet" type="text/css" href="styles/normalize.css" media="all" />
    <link rel="stylesheet" type="text/css" href="styles/selectize.default.css" media="all" />


    <link rel="stylesheet" type="text/css" href="styles/bootstrap.min.css">



</head>
<header>
SeqScrub<br><br>
</header>

<body>

<div class="loader" style = "display:none">
    <img src=img/scrubcrop.gif>
    <div class="loader-text">
        Cleaning sequences!
    </div>
</div>

<div class="container-fluid">
    <div class="row">
        <div class="col-lg-6">
            <form id='data'>
                <div class="form-group">

                        Upload a FASTA file to edit all headers into the specified cleaned format. <br><br>



                        <input type="file" class="fileinput" id="file" name="file" />
                        <label for="file" class="btn btn-primary"> Choose a file </label>

                        <input type="text" id="fileToSave"  value="   " /> <br>

                        <input type="file" class="fileinput" id="tree" name="tree" />
                        <label for="tree" class="btn btn-primary"> Choose a tree (optional) </label>

                        <input type="text" id="treeToSave"  value="   " /> <br>


                    <label for="select-tools"> Select header output format: </label>

                    <select name="select-tools" id="select-tools" multiple="multiple">
                        <option selected value="headerID">ID</option>
                        <option selected value="headerSpecies">Species name</option>
                        <option value="headerFamily">Family</option>
                        <option value="headerOrder">Order</option>
                    </select>



                    <label for="invalidChars" > Remove sequences containing: </label>
                    <input type="text" id="invalidChars" value="B J O U X Z" /> <br>



                <!-- <button type="file" id=file class="fileinput">Basic</button> -->

                <!-- <button type="button" class="btn">Basic</button> -->
                <!-- <input type="file" class="fileinput" id="file" name="file" /> -->
                <!-- <label for="file"> Choose a file </label> -->


                <!-- <input type="file" class="fileinput" id="tree" name="tree" /> -->

                <input type="checkbox" checked id="addUnderscore" value=checked name="addUnderscore">

                <label for="addUnderscore"> Change spaces to underscores in species name </label> <br>

                <input type="checkbox" checked id="getFirstID" value=checked name="getFirstID">

                <label for="getFirstID"> Retain only the first ID from headers with multiple IDs </label> <br>



                <input type="submit" class="button" value = "Submit"> <br><br>
            </div>
            </form>
        </div>
        <div class="col-lg-6">
            Error
        </div>
    </div>
</div>








    <section class = container-fluid>

        <div class="row">
            <div class="seqLabel1 col" >Cleaned sequences:</div>
            <div class="seqLabel2 col" >Sequences with illegal characters:</div>
            <div class="seqLabel3 col" >Sequences that are obsolete: </div>
            <div class="seqLabel4 col" >Sequences that couldn't be cleaned:</div>

        </div>


    <div class="row">

        <textarea class="border col-lg-3" readonly id = 'cleanedSeqs' spellcheck="false" autocomplete="off"></textarea>

        <textarea class="border col-lg-3" readonly id = 'badCharacters' spellcheck="false" autocomplete="off"></textarea>

        <textarea class="border col-lg-3" readonly id = 'obsoleteSeqs' spellcheck="false" autocomplete="off"></textarea>

        <textarea class="border col-lg-3" readonly id = 'badIds' spellcheck="false" autocomplete="off"></textarea>
    </div>
    </section>
    <br>
    <form id="save">
        <div class="form-group">
            <div class="col-lg-4 col-sm-3 col-12">
                Which output fields should be saved? <br><br>



            <input type="checkbox" checked id="cleanCheck" value="" autocomplete="off" name="cleanCheck">
            <label for="cleanCheck">Cleaned sequences</label> <br>
            <input type="checkbox" checked id="illegalCheck" value="" autocomplete="off" name="illegalCheck">
            <label for="illegalCheck"> Sequences with illegal characters </label> <br>
            <input type="checkbox" checked id="obsoleteCheck" value="" autocomplete="off" name="obsoleteCheck">
            <label for="obsoleteCheck"> Sequences that are obsolete </label> <br>
            <input type="checkbox" checked id="unmappableCheck" value="" autocomplete="off" name="unmappableCheck">
            <label for="unmappableCheck"> Sequences that couldn't be cleaned </label>    <br>
            <input type="checkbox" checked id="treeCheck" value="" autocomplete="off" name="treeCheck">
            <label for="treeCheck"> Cleaned phylogenetic tree </label>    <br>
            <input type="checkbox" checked id="summaryCheck" value="" autocomplete="off" name="summaryCheck">
            <label for="summaryCheck"> Summary of changes made</label>    <br>

            <input type="checkbox" checked id="selectAll" value="" autocomplete="off" name="sellectAll">
            <label for="selectAll"> Select all output </label>

            <br><br>

                <input type="button" class = "button" id= 'saveButton' value="Save output" onclick="downloadFile(fileToSave.value, cleanedSeqs.value)"> <br><br>
        <!--         <input type="button" class = "button" id= 'illegalButton' value="Save illegal sequences" onclick="downloadFile(fileToSave.value, badCharacters.value)">
                <input type="button" class = "button" id= 'obsoleteButton' value="Save obsolete sequences" onclick="downloadFile(fileToSave.value, obsoleteSeqs.value)">
                <input type="button" class = "button" id= 'unmappableButton' value="Save unmappable sequences" onclick="downloadFile(fileToSave.value, badIds.value)"> <br> <br> -->
                <input type="button" class = "button" id= 'saveButton' value="Save summary" onclick="downloadSummary(fileToSave.value)">
        </div>
        </div>
    </form>

    <!-- Jquery and Jquery UI -->
<!--     <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script> -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.12.3/jquery.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>

    <!-- Tether -->
    <script src="https://npmcdn.com/tether@1.2.4/dist/js/tether.min.js"></script>


    <!-- Bootstrap -->
    <script src="./js/bootstrap.min.js"></script>

    <!-- JSZip -->
    <script src="./js/jszip.min.js"></script>

    <!-- Selectize.js -->
    <script src="./js/selectize.min.js"></script>

    <!-- SeqScrub -->
    <script src="./js/seqscrub.js"></script>

    <!--Download.js -->
    <script src="http://danml.com/js/download.js"></script>




</body>
</html>
